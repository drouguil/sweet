"use strict";angular.module("mainApp",["ngRoute","ngSanitize","ngAria","ngAnimate","ngMaterial","ngMessages","tmh.dynamicLocale","pascalprecht.translate","ngclipboard","md.data.table","ui.bootstrap","headerCtrl","footerCtrl","dofuseurCtrl","notFoundCtrl","dofuseurHelpCtrl","welcomeCtrl","imageOnLoadDirective","disableRightClickDirective","languageService","toastService","dialogService","localStorageService","sessionStorageService","devToolsService","imgService","daoService","appConfig"]).config(["$routeProvider","$locationProvider","$mdThemingProvider","$translateProvider","tmhDynamicLocaleProvider","appConfig",function(e,o,i,t,s,n){s.defaultLocale("fr"),s.localeLocationPattern(n.paths.i18n+"angular-locale_{{locale}}.js"),t.useSanitizeValueStrategy("escape"),i.theme("success"),i.theme("error"),e.when("/",{templateUrl:n.paths.viewsDofuseur+"dofuseur.html",controller:"dofuseurController"}).when("/404",{templateUrl:n.paths.views404+"404.html",controller:"notFoundController"}).otherwise({redirectTo:"/404"}),o.html5Mode(!0)}]).run(["$rootScope","$interval","appConfig","languageManager","dialogManager","localStorageManager",function(e,o,i,t,s,n){t.initCurrentLanguage(),e.title="",e.isLog=!1,e.headerIsLoaded=!1,e.footerIsLoaded=!1,e.headerIsLoaded=!1,e.imgsIsLoaded=!1,e.backgroundIsLoaded=!1,e.viewIsLoaded=!1,e.$on("$routeChangeStart",function(o,i){e.viewIsLoaded=!1,e.backgroundIsLoaded=!1,e.imgsIsLoaded=!1,s.closeDialogs()}),angular.element(document).ready(function(){n.getObj(i.localStorage.isVisited)||(n.setObj(i.localStorage.isVisited,!0),s.showWelcomeDialog(!0))})}]),angular.module("appConfig",[]).constant("appConfig",{paths:{app:"./app/",angularjs:"./app/angularjs/",controllers:"./app/angularjs/controllers/",viewsControllers:"./app/angularjs/controllers/views/",services:"./app/angularjs/services/",constants:"./app/angularjs/constants/",assets:"./app/assets/",css:"./app/assets/css/",fonts:"./app/assets/fonts/",i18n:"./app/assets/i18n/",img:"./app/assets/img/",imgBackgrounds:"./app/assets/img/backgrounds/",imgDofus:"./app/assets/img/dofus/",imgDofuseur:"./app/assets/img/dofuseur/",imgDofuseurMenu:"./app/assets/img/dofuseur/menu/",imgDofuseurHud:"./app/assets/img/dofuseur/hud/",imgDofuseurScreens:"./app/assets/img/dofuseur/screens/",imgDofuseurTiles:"./app/assets/img/dofuseur/tiles/",imgDofuseurTuto:"./app/assets/img/dofuseur/tuto/",imgIcons:"./app/assets/img/icons/",imgLogo:"./app/assets/img/logo/",sounds:"./app/assets/sounds/",js:"./app/assets/js/",svg:"./app/assets/svg/",svgCountries:"./app/assets/svg/countries/",svgDialogs:"./app/assets/svg/dialogs/",svgHeader:"./app/assets/svg/header/",svgSocial:"./app/assets/svg/social/",php:"./app/php/",views:"./app/views/",views404:"./app/views/404/",viewsDofuseur:"./app/views/dofuseur/",viewsDialogs:"./app/views/dialogs/"},localStorage:{language:"language",isVisited:"isVisited"}}),angular.module("dofuseurHelpCtrl",[]).config(["$translateProvider",function(e){e.translations("fr",{DOFUSEUR_HELP_TITLE:"Dofuseur : Règles du jeu",DOFUSEUR_HELP_RULES_TITLE:"Règles",DOFUSEUR_HELP_RULES_CONTENT_1:"Bienvenue sur le Dofuseur, une variante du jeu du Démineur.",DOFUSEUR_HELP_RULES_CONTENT_2:"Vous disposez d'une grille remplie de ",DOFUSEUR_HELP_RULES_CONTENT_3:" au contenu inconnu, le but du jeu est de déterminer le contenu de chaque ",DOFUSEUR_HELP_RULES_CONTENT_4:"Une ",DOFUSEUR_HELP_RULES_CONTENT_5:" peut être :",DOFUSEUR_HELP_RULES_CONTENT_6:"- Vide : ",DOFUSEUR_HELP_RULES_CONTENT_7:"- Un Dofus : ",DOFUSEUR_HELP_RULES_CONTENT_8:"- Une bombe : ",DOFUSEUR_HELP_RULES_CONTENT_9:"Afin de révéler une ",DOFUSEUR_HELP_RULES_CONTENT_10:", effectuez un ",DOFUSEUR_HELP_RULES_CONTENT_11:" dessus.",DOFUSEUR_HELP_RULES_CONTENT_12:"Il peut donc y avoir trois cas possibles :",DOFUSEUR_HELP_RULES_CONTENT_13:"- Si",DOFUSEUR_HELP_RULES_CONTENT_14:" alors le nombre de ",DOFUSEUR_HELP_RULES_CONTENT_15:" voisines (les 8 autour) contenant une bombe sera affiché sur la ",DOFUSEUR_HELP_RULES_CONTENT_16:"Cas particulier : Si jamais ce nombre est égal à 0 alors les ",DOFUSEUR_HELP_RULES_CONTENT_17:" autour se révèleront automatiquement et aucun nombre ne sera affiché sur la ",DOFUSEUR_HELP_RULES_CONTENT_18:" alors un bonus propre au Dofus découvert vous sera conféré, pour voir les effets des 6 Dofus cliquez ",DOFUSEUR_HELP_RULES_CONTENT_19:"ici",DOFUSEUR_HELP_RULES_CONTENT_20:" alors vous perdez une ",DOFUSEUR_HELP_RULES_CONTENT_21:"(un nombre de",DOFUSEUR_HELP_RULES_CONTENT_22:" vous sera donné en fonction de la difficulté du niveau), une fois toutes vos ",DOFUSEUR_HELP_RULES_CONTENT_23:" alors ce sera le gameover et il faudra recommencer avec une nouvelle grille car celle-ci se génère aléatoirement à chaque partie.",DOFUSEUR_HELP_RULES_CONTENT_24:"Attention au ",DOFUSEUR_HELP_RULES_CONTENT_25:" qui, si vous ne finissez pas à temps vous fera perdre également.",DOFUSEUR_HELP_RULES_CONTENT_26:"Afin de déterminer quelles ",DOFUSEUR_HELP_RULES_CONTENT_27:" sont ",DOFUSEUR_HELP_RULES_CONTENT_28:" effectuez un ",DOFUSEUR_HELP_RULES_CONTENT_29:" dessus. Pour plus de détails cliquez ",DOFUSEUR_HELP_RULES_CONTENT_30:"Les emplacements des bombes et des Dofus sont générés lors du premier ",DOFUSEUR_HELP_RULES_CONTENT_31:", ainsi que le déclenchement du ",DOFUSEUR_HELP_RULES_CONTENT_32:"De plus, vous ne pouvez ni avoir de bombes, ni de Dofus dans un carré de 2 ",DOFUSEUR_HELP_RULES_CONTENT_33:" autour de la première ",DOFUSEUR_HELP_RULES_CONTENT_34:" révélée.",DOFUSEUR_HELP_RULES_CONTENT_35:"Bonne chance !",DOFUSEUR_HELP_STATUS_TITLE:"Statut",DOFUSEUR_HELP_STATUS_CONTENT_1:"A chaque fois que vous effectuez un ",DOFUSEUR_HELP_STATUS_CONTENT_2:" sur une ",DOFUSEUR_HELP_STATUS_CONTENT_3:" , le statut de la ",DOFUSEUR_HELP_STATUS_CONTENT_4:" change suivant le schéma suivant : ",DOFUSEUR_HELP_STATUS_CONTENT_5:"Il existe 4 statuts possibles : ",DOFUSEUR_HELP_STATUS_CONTENT_6:"- Par défaut ",DOFUSEUR_HELP_STATUS_CONTENT_7:" : Aucune information n'est donnée.",DOFUSEUR_HELP_STATUS_CONTENT_8:"- Bombe",DOFUSEUR_HELP_STATUS_CONTENT_9:" : Statut à mettre lorsque vous pensez que la ",DOFUSEUR_HELP_STATUS_CONTENT_10:" est une ",DOFUSEUR_HELP_STATUS_CONTENT_11:'Attention : afin d\'éviter les "missclick" on ne peut pas révéler une ',DOFUSEUR_HELP_STATUS_CONTENT_12:" , si vous voulez révéler une ",DOFUSEUR_HELP_STATUS_CONTENT_13:" effectuez d'abord un changement de statut.",DOFUSEUR_HELP_STATUS_CONTENT_14:"- Inconnu",DOFUSEUR_HELP_STATUS_CONTENT_15:" : Statut à mettre lorsqu'il est possible que cette ",DOFUSEUR_HELP_STATUS_CONTENT_16:" soit une ",DOFUSEUR_HELP_STATUS_CONTENT_17:" , cela va vous permettre de faire des hypothèses.",DOFUSEUR_HELP_STATUS_CONTENT_18:"- Bombe sûre ",DOFUSEUR_HELP_STATUS_CONTENT_19:" : La ",DOFUSEUR_HELP_STATUS_CONTENT_20:" est forcément une ",DOFUSEUR_HELP_STATUS_CONTENT_21:" , ce statut ne peut qu'apparaître via un effet d'un Dofus ou lorsque vous perdez une ",DOFUSEUR_HELP_STATUS_CONTENT_22:" sur une bombe.",DOFUSEUR_HELP_DOFUS_TITLE:"Dofus",DOFUSEUR_HELP_DOFUS_CONTENT_1:"Liste des effets des Dofus : ",DOFUSEUR_HELP_DOFUS_CONTENT_2:"- Ebène ",DOFUSEUR_HELP_DOFUS_CONTENT_3:" : Révèle les ",DOFUSEUR_HELP_DOFUS_CONTENT_4:" de même ligne et de même colonne que le Dofus ",DOFUSEUR_HELP_DOFUS_CONTENT_5:"- Emeraude ",DOFUSEUR_HELP_DOFUS_CONTENT_6:" : Révèle les ",DOFUSEUR_HELP_DOFUS_CONTENT_7:" en diagonale du Dofus ",DOFUSEUR_HELP_DOFUS_CONTENT_8:"- Ivoire ",DOFUSEUR_HELP_DOFUS_CONTENT_9:" : + 1 ",DOFUSEUR_HELP_DOFUS_CONTENT_10:"- Ocre ",DOFUSEUR_HELP_DOFUS_CONTENT_11:" : + 1 : 00 ",DOFUSEUR_HELP_DOFUS_CONTENT_12:"- Pourpre ",DOFUSEUR_HELP_DOFUS_CONTENT_13:" : Révèle les ",DOFUSEUR_HELP_DOFUS_CONTENT_14:" de même ligne et de même colonne que le Dofus",DOFUSEUR_HELP_DOFUS_CONTENT_15:"- Turquoise",DOFUSEUR_HELP_DOFUS_CONTENT_16:" : Révèle les ",DOFUSEUR_HELP_DOFUS_CONTENT_17:" (sauf ",DOFUSEUR_HELP_DOFUS_CONTENT_18:") n'ayant aucune ",DOFUSEUR_HELP_DOFUS_CONTENT_19:" voisine",DOFUSEUR_HELP_DOFUS_CONTENT_20:"- Tous les Dofus récupérés : Vous êtes soignés de toutes vos ",CLOSE_BTN:"Fermer"}),e.translations("en",{DOFUSEUR_HELP_TITLE:"Dofuseur : Rules of the game",DOFUSEUR_HELP_RULES_TITLE:"Rules",DOFUSEUR_HELP_RULES_CONTENT_1:"Welcome to Dofuseur, a variation of the Minesweeper game.",DOFUSEUR_HELP_RULES_CONTENT_2:"You have a grid filled with",DOFUSEUR_HELP_RULES_CONTENT_3:" with unknown content, the purpose of the game is to determine the content of each",DOFUSEUR_HELP_RULES_CONTENT_4:"A ",DOFUSEUR_HELP_RULES_CONTENT_5:" may be :",DOFUSEUR_HELP_RULES_CONTENT_6:"- Empty : ",DOFUSEUR_HELP_RULES_CONTENT_7:"- A Dofus : ",DOFUSEUR_HELP_RULES_CONTENT_8:"- A bomb : ",DOFUSEUR_HELP_RULES_CONTENT_9:"In order to reveal a ",DOFUSEUR_HELP_RULES_CONTENT_10:", perform a ",DOFUSEUR_HELP_RULES_CONTENT_11:" above.",DOFUSEUR_HELP_RULES_CONTENT_12:"There can be three possible cases :",DOFUSEUR_HELP_RULES_CONTENT_13:"- If",DOFUSEUR_HELP_RULES_CONTENT_14:" then the number of neighboring ",DOFUSEUR_HELP_RULES_CONTENT_15:" (the 8 around) containing a bomb will be displayed on the",DOFUSEUR_HELP_RULES_CONTENT_16:"Special case : If this number equals 0 then the ",DOFUSEUR_HELP_RULES_CONTENT_17:" around will automatically reveal and no numbers will be displayed on the ",DOFUSEUR_HELP_RULES_CONTENT_18:" then a bonus to the Dofus discovered will be conferred, to see the effects of the 6 Dofus click ",DOFUSEUR_HELP_RULES_CONTENT_19:"here",DOFUSEUR_HELP_RULES_CONTENT_20:" then you lose a ",DOFUSEUR_HELP_RULES_CONTENT_21:" (a number of ",DOFUSEUR_HELP_RULES_CONTENT_22:" you will be given according to the difficulty of the level), once all your ",DOFUSEUR_HELP_RULES_CONTENT_23:" then it will be the gameover and it will start again with a new grid because it is generated randomly at each party.",DOFUSEUR_HELP_RULES_CONTENT_24:"Warning to ",DOFUSEUR_HELP_RULES_CONTENT_25:" which, if you do not finish on time will make you lose too.",DOFUSEUR_HELP_RULES_CONTENT_26:"In order to determine which ",DOFUSEUR_HELP_RULES_CONTENT_27:" are ",DOFUSEUR_HELP_RULES_CONTENT_28:" perform a ",DOFUSEUR_HELP_RULES_CONTENT_29:" above. For more details click ",DOFUSEUR_HELP_RULES_CONTENT_30:"The locations of the bombs and Dofus are generated at the first",DOFUSEUR_HELP_RULES_CONTENT_31:", as well as the triggering of the ",DOFUSEUR_HELP_RULES_CONTENT_32:"Moreover, you can not have bombs or Dofus in a square of 2 ",DOFUSEUR_HELP_RULES_CONTENT_33:" around the first ",DOFUSEUR_HELP_RULES_CONTENT_34:" revealed.",DOFUSEUR_HELP_RULES_CONTENT_35:"Good luck !",DOFUSEUR_HELP_STATUS_TITLE:"Status",DOFUSEUR_HELP_STATUS_CONTENT_1:"Whenever you perform a ",DOFUSEUR_HELP_STATUS_CONTENT_2:" on a ",DOFUSEUR_HELP_STATUS_CONTENT_3:" , the status of ",DOFUSEUR_HELP_STATUS_CONTENT_4:" changes according to the following scheme : ",DOFUSEUR_HELP_STATUS_CONTENT_5:"There are 4 possible statuses : ",DOFUSEUR_HELP_STATUS_CONTENT_6:"- By default ",DOFUSEUR_HELP_STATUS_CONTENT_7:" : No information is given.",DOFUSEUR_HELP_STATUS_CONTENT_8:"- Bomb ",DOFUSEUR_HELP_STATUS_CONTENT_9:" : Status to put when you think that the ",DOFUSEUR_HELP_STATUS_CONTENT_10:" is a ",DOFUSEUR_HELP_STATUS_CONTENT_11:'Warning : in order to avoid the "missclick" we can not reveal a ',DOFUSEUR_HELP_STATUS_CONTENT_12:" , if you want to reveal a ",DOFUSEUR_HELP_STATUS_CONTENT_13:" first make a change of status.",DOFUSEUR_HELP_STATUS_CONTENT_14:"- Unknow ",DOFUSEUR_HELP_STATUS_CONTENT_15:" : Status to be set when it is possible that this",DOFUSEUR_HELP_STATUS_CONTENT_16:" is a ",DOFUSEUR_HELP_STATUS_CONTENT_17:", this will allow you to make assumptions.",DOFUSEUR_HELP_STATUS_CONTENT_18:"- Safe bomb ",DOFUSEUR_HELP_STATUS_CONTENT_19:" : The ",DOFUSEUR_HELP_STATUS_CONTENT_20:" is necessarily a ",DOFUSEUR_HELP_STATUS_CONTENT_21:" , this status can only appear via an effect of a Dofus or when you lose a ",DOFUSEUR_HELP_STATUS_CONTENT_22:" on a bomb.",DOFUSEUR_HELP_DOFUS_TITLE:"Dofus",DOFUSEUR_HELP_DOFUS_CONTENT_1:"List of effects of Dofus : ",DOFUSEUR_HELP_DOFUS_CONTENT_2:"- Ebene ",DOFUSEUR_HELP_DOFUS_CONTENT_3:" : Reveal the ",DOFUSEUR_HELP_DOFUS_CONTENT_4:" same line and same column as the Dofus",DOFUSEUR_HELP_DOFUS_CONTENT_5:"- Emeraude ",DOFUSEUR_HELP_DOFUS_CONTENT_6:" : Reveal the ",DOFUSEUR_HELP_DOFUS_CONTENT_7:" diagonally to the Dofus ",DOFUSEUR_HELP_DOFUS_CONTENT_8:"- Ivoire ",DOFUSEUR_HELP_DOFUS_CONTENT_9:" : + 1 ",DOFUSEUR_HELP_DOFUS_CONTENT_10:"- Ocre ",DOFUSEUR_HELP_DOFUS_CONTENT_11:" : + 1 : 00 ",DOFUSEUR_HELP_DOFUS_CONTENT_12:"- Pourpre ",DOFUSEUR_HELP_DOFUS_CONTENT_13:" : Reveal the ",DOFUSEUR_HELP_DOFUS_CONTENT_14:" same line and same column as the Dofus",DOFUSEUR_HELP_DOFUS_CONTENT_15:"- Turquoise ",DOFUSEUR_HELP_DOFUS_CONTENT_16:" : Reveal the ",DOFUSEUR_HELP_DOFUS_CONTENT_17:" (except ",DOFUSEUR_HELP_DOFUS_CONTENT_18:") having no neighboring",DOFUSEUR_HELP_DOFUS_CONTENT_19:"",DOFUSEUR_HELP_DOFUS_CONTENT_20:"All Recovered Dofus : You are healed of all your ",CLOSE_BTN:"Close"})}]).controller("dofuseurHelpController",["$scope","$rootScope","dialogManager","appConfig",function(e,o,i,t){e.cycleImgPath=t.paths.imgDofuseurTuto+"cycle.png",e.ebeneTileImgPath=t.paths.imgDofuseurTiles+"ebene_tile.png",e.emeraudeTileImgPath=t.paths.imgDofuseurTiles+"emeraude_tile.png",e.ivoireTileImgPath=t.paths.imgDofuseurTiles+"ivoire_tile.png",e.ocreTileImgPath=t.paths.imgDofuseurTiles+"ocre_tile.png",e.pourpreTileImgPath=t.paths.imgDofuseurTiles+"pourpre_tile.png",e.turquoiseTileImgPath=t.paths.imgDofuseurTiles+"turquoise_tile.png",e.timerImgPath=t.paths.imgDofuseurHud+"timer.png",e.liveImgPath=t.paths.imgDofuseurHud+"live.png",e.dofusTileImgPath=t.paths.imgDofuseurTuto+"dofus_tile.png",e.emptyTileImgPath=t.paths.imgDofuseurTuto+"empty_tile.png",e.emptyTileNumberImgPath=t.paths.imgDofuseurTuto+"empty_tile_number.png",e.bombTileImgPath=t.paths.imgDofuseurTuto+"bomb_tile.png",e.bombImgPath=t.paths.imgDofuseurTuto+"bomb.png",e.unknowTileImgPath=t.paths.imgDofuseurTuto+"unknow_tile.png",e.lockTileImgPath=t.paths.imgDofuseurTuto+"lock_tile.png",e.tileImgPath=t.paths.imgDofuseurTiles+"tile.png",e.leftClickImgPath=t.paths.imgDofuseurTuto+"mouse_left_click.png",e.rightClickImgPath=t.paths.imgDofuseurTuto+"mouse_right_click.png",e.closeImgPath=t.paths.svgDialogs+"close.svg",e.changeTab=function(o){e.selectedIndex=o},e.closeDialog=function(){i.closeDialogs()}}]),angular.module("welcomeCtrl",[]).config(["$translateProvider",function(e){e.translations("fr",{WELCOME_TITLE:"Bienvenue",WELCOME_CONTENT_TITLE:"Bienvenue sur Sweet.ovh,",WELCOME_CONTENT:"Je me présente, Miysis, Ecaflip 200 sur le serveur Ush dans le monde des Douzes mais également développeur de ce site. Je te guiderai dans l'utilisation de celui-ci. Si tu te poses des questions sur l'utilisation d'une fonctionnalité du site en particulier, clique sur l'icône ci-dessous dans le menu en haut sur la page concernée.",WELCOME_SOCIAL:"Tu peux également me suivre sur twitter ou suivre le twitter du site afin de proposer des améliorations, me poser des questions, signaler un ou plusieurs bugs ou me faire des retours quelconques.",WELCOME_END:"À bientôt",MY_TWITTER:"Mon Twitter",WEBSITE_TWITTER:"Twitter du site",YOUTUBE_CHANNEL:"Ma chaîne YouTube",CLOSE_BTN:"Fermer"}),e.translations("en",{WELCOME_TITLE:"Welcome",WELCOME_CONTENT_TITLE:"Welcome to Sweet.ovh,",WELCOME_CONTENT:"I'm Miysis, Ecaflip level 200 on Ush server but I'm also the designer of this website. I will be your guide on it. If you have any question about a functionality, click on this icon, which is in the top-screen menu.",WELCOME_SOCIAL:"More, you can follow me or the website on twitter to suggest an improvement, report a bug or a mistranslation, ask a question or do any kind of feedback.",WELCOME_END:"See you soon",MY_TWITTER:"My Twitter",WEBSITE_TWITTER:"Website's Twitter",YOUTUBE_CHANNEL:"My YouTube channel",CLOSE_BTN:"Close"})}]).controller("welcomeController",["$scope","$rootScope","$interval","dialogManager","appConfig",function(e,o,i,t,s){var n,a,r,u;e.helpImgPath=s.paths.svgHeader+"help.svg",e.twitterImgPath=s.paths.svgSocial+"twitter.svg",e.youtubeImgPath=s.paths.svgSocial+"youtube.svg",e.closeImgPath=s.paths.svgDialogs+"close.svg",e.closeDialog=function(){t.closeDialogs()},e.$on("$destroy",function(){i.cancel(c)});var l=[{src:s.paths.img+"sprites.png",id:"image"}],c=i(function(){createjs.Ticker.setPaused(!1)},5e3);function g(e){new createjs.Bitmap(e.result)}function E(e){console.error("Erreur lors du chargement des assets !",e.text)}function _(e){}function d(e){var o=new createjs.SpriteSheet({images:[u.getResult("image")],frames:{width:260,height:260,regX:130,regY:130,count:60},animations:{walk:[0,35]}});(r=new createjs.Sprite(o,"walk")).gotoAndPlay("walk"),r.x=130,r.y=130,a.addChild(r),a.update(),createjs.Ticker.on("tick",function(e){e.paused||(a.update(),0==r.currentFrame&&createjs.Ticker.setPaused(!0))}),createjs.Ticker.framerate=15}angular.element(document).ready(function(){n=document.getElementById("animation"),a=new createjs.Stage(n),(u=new createjs.LoadQueue).on("fileload",g),u.on("progress",_),u.on("complete",d),u.on("error",E),u.loadManifest(l)})}]),angular.module("footerCtrl",[]).config(["$translateProvider",function(e){e.translations("fr",{MY_TWITTER:"Mon Twitter",WEBSITE_TWITTER:"Twitter du site",YOUTUBE_CHANNEL:"Ma chaîne YouTube",FOLLOW_US:"Nous suivre",PURPOSE_HELP:"Apporter son aide au site",REPORT_BUG:"Reporter un bug",PURPOSE_UPGRADE:"Proposer une amélioration",PURPOSE_PICTURE:"Proposer un dessin/logo/image",CONTACT_US:"Nous contacter",UNAVAILABLE:"Indisponible pour le moment",COPYRIGHT_1:"Les icônes faîtes par ",COPYRIGHT_2:" sur ",COPYRIGHT_3:" sont autorisées à être publiées par "}),e.translations("en",{MY_TWITTER:"My Twitter",WEBSITE_TWITTER:"Website's Twitter",YOUTUBE_CHANNEL:"My YouTube channel",FOLLOW_US:"Follow us",PURPOSE_HELP:"Purpose help to website",REPORT_BUG:"Report a bug",PURPOSE_UPGRADE:"Purpose an upgrade",PURPOSE_PICTURE:"Purpose a drawing/logo/picture",CONTACT_US:"Contact us",UNAVAILABLE:"Not available yet",COPYRIGHT_1:"Icons made by ",COPYRIGHT_2:" from ",COPYRIGHT_3:" are licensed by "})}]).controller("footerController",["$scope","$translate","$rootScope","appConfig",function(e,o,i,t){e.facebookImgPath=t.paths.svgSocial+"facebook.svg",e.twitterImgPath=t.paths.svgSocial+"twitter.svg",e.youtubeImgPath=t.paths.svgSocial+"youtube.svg",e.imgLoaded=function(){++n==s&&(i.footerIsLoaded=!0)};var s=2,n=0}]),angular.module("headerCtrl",[]).config(["$translateProvider",function(e){e.translations("fr",{LANGUAGE_CHANGED:"Langue changée",FRENCH:"Français",ENGLISH:"Anglais",HELP_TOOLTIP:"Aide",REGISTER_TOOLTIP:"S'inscrire",LOGIN_TOOLTIP:"Se connecter",ACHIEVEMENTS_TOOLTIP:"Succès",ORNAMENTS_TITLES_TOOLTIP:"Ornements et titres",PROFILE_TOOLTIP:"Profil",LOGOUT_TOOLTIP:"Se déconnecter",LOGOUT_SUCCESS:"Déconnexion réussie",LOGOUT_ERROR:"Une erreur est survenue lors la déconnexion"}),e.translations("en",{LANGUAGE_CHANGED:"Language changed",FRENCH:"French",ENGLISH:"English",HELP_TOOLTIP:"Help",REGISTER_TOOLTIP:"Sign up",LOGIN_TOOLTIP:"Sign in",ACHIEVEMENTS_TOOLTIP:"Achievements",ORNAMENTS_TITLES_TOOLTIP:"Ornaments and titles",PROFILE_TOOLTIP:"Profile",LOGOUT_TOOLTIP:"Logout",LOGOUT_SUCCESS:"Successfully logout",LOGOUT_ERROR:"An error has occured during the logout"})}]).controller("headerController",["$scope","$locale","$filter","$rootScope","$location","tmhDynamicLocale","languageManager","toastManager","dialogManager","appConfig",function(e,o,i,t,s,n,a,r,u,l){e.helpImgPath=l.paths.svgHeader+"help.svg",e.registerImgPath=l.paths.svgHeader+"register.svg",e.loginImgPath=l.paths.svgHeader+"login.svg",e.achievementsImgPath=l.paths.imgImgs+"achievements.png",e.ornamentsTitlesImgPath=l.paths.imgImgs+"ornaments_titles.png",e.profileImgPath=l.paths.svgHeader+"profile.svg",e.logoutImgPath=l.paths.svgHeader+"logout.svg",e.logoImgPath=l.paths.imgLogo+"logo.png",e.currentLanguage=a.getCurrentLanguage(),e.isLanguagesList=!1,t.$on("openDofuseurHelp",function(e,o){u.showHelpDialog(o,!0)}),e.showHelpDialog=function(e){u.showHelpDialog(e,!0)},e.showAchievementsDialog=function(e){u.showAchievementsDialog(e)},e.showOrnamentsTitlesDialog=function(e){u.showOrnamentsTitlesDialog(e)},e.showRegisterDialog=function(e){u.showIdentificationDialog(e,!0,!0)},e.showLoginDialog=function(e){u.showIdentificationDialog(e,!0,!1)},e.showProfileDialog=function(e){u.showProfileDialog(e,!0,!1)},e.languageImgPath=function(e){return l.paths.svgCountries+e.id+".svg"},e.displayLanguageList=function(o){o&&r.closeToasts(),e.isLanguagesList=o},e.languages=function(){return a.getLanguages()},e.updateLanguage=function(o){a.getCurrentLanguage().id!=o.id&&(r.showSimpleToast(i("translate")("LANGUAGE_CHANGED")+" : "+i("translate")(o.name)),e.currentLanguage=o,a.setCurrentLanguage(o),e.isLanguagesList=!1)},e.homeLink=function(){s.path("/")},e.imgLoaded=function(){++g==c&&(t.headerIsLoaded=!0)};var c=4,g=0}]),angular.module("dofuseurCtrl",[]).config(["$translateProvider",function(e){e.translations("fr",{DOFUSEUR_TITLE:"Dofuseur",EASY:"Tofu",MEDIUM:"Kaskargo",HARD:"Bworker",RULES:"Règles",PLAY:"Jouer",SEE:"Voir",LADDER:"Classement",RETRY:"Réessayer",AGAIN:"Recommencer",MENU:"Menu",LEVEL:"Niveau",LEVEL_EASY:"Niveau Tofu",LEVEL_MEDIUM:"Niveau Kaskargo",LEVEL_HARD:"Niveau Bworker",REMAINING_LIVES:"Vies restantes",REMAINING_BOMBS:"Bombes restantes",REMAINING_TIME:"Temps restant",VOLUME:"Volume",MENU:"Menu",DOFUS_EBENE:"Dofus ébène",DOFUS_EMERAUDE:"Dofus émeraude",DOFUS_IVOIRE:"Dofus ivoire",DOFUS_OCRE:"Dofus ocre",DOFUS_POURPRE:"Dofus pourpre",DOFUS_TURQUOISE:"Dofus turquoise",UNAVAILABLE_DEVICE:"Le jeu n'est pas disponible pour un écran de cette taille, si vous le pouvez augmentez la taille de l'écran ou changez le (il faut au minimum 1200 pixels de largeur)"}),e.translations("en",{DOFUSEUR_TITLE:"Dofuseur",EASY:"Tofu",MEDIUM:"Kaskargo",HARD:"Bworker",RULES:"Rules",PLAY:"Play",See:"See",LADDER:"Ladder",RETRY:"Retry",AGAIN:"Again",MENU:"Menu",LEVEL:"Level",LEVEL_EASY:"Level Tofu",LEVEL_MEDIUM:"Level Kaskargo",LEVEL_HARD:"Level Bworker",REMAINING_LIVES:"Remaining lives",REMAINING_BOMBS:"Remaining bombs",REMAINING_TIME:"Remaining time",VOLUME:"Volume",MENU:"Menu",DOFUS_EBENE:"Dofus ebene",DOFUS_EMERAUDE:"Dofus emeraude",DOFUS_IVOIRE:"Dofus ivoire",DOFUS_OCRE:"Dofus ocre",DOFUS_POURPRE:"Dofus pourpre",DOFUS_TURQUOISE:"Dofus turquoise",UNAVAILABLE_DEVICE:"The game is not available for a screen of this size, if you can increase the size of the screen or change it (it takes at least 1200 pixels width)"})}]).controller("dofuseurController",["$scope","$rootScope","$filter","appConfig","imgManager","dialogManager",function($scope,$rootScope,$filter,appConfig,imgManager,dialogManager){$scope.logoImgPath=appConfig.paths.imgDofuseurHud+"logo.png",$scope.easyImgPath=appConfig.paths.imgDofuseurMenu+"easy.png",$scope.mediumImgPath=appConfig.paths.imgDofuseurMenu+"medium.png",$scope.hardImgPath=appConfig.paths.imgDofuseurMenu+"hard.png",$scope.rulesImgPath=appConfig.paths.imgDofuseurMenu+"rules.png",$scope.levelImgPath="",$scope.bombImgPath=appConfig.paths.imgDofuseurHud+"bomb.png",$scope.menuImgPath=appConfig.paths.imgDofuseurHud+"list.png",$scope.volume1ImgPath=appConfig.paths.imgDofuseurHud+"volume1.png",$scope.volume2ImgPath=appConfig.paths.imgDofuseurHud+"volume2.png",$scope.volume3ImgPath=appConfig.paths.imgDofuseurHud+"volume3.png",$scope.timerImgPath=appConfig.paths.imgDofuseurHud+"timer.png",$scope.liveImgPath=appConfig.paths.imgDofuseurHud+"live.png",$scope.gameoverImgPath=appConfig.paths.imgDofuseurScreens+"gameover.png",$scope.victoryImgPath=appConfig.paths.imgDofuseurScreens+"victory.png",$scope.volume=2,$scope.isMenu=!0,$scope.lives=[],$scope.bombs,$scope.dofuss=[],$scope.isHit=!1,$scope.isPause=!1,$scope.isVictory=!1,$scope.isGameover=!1,$scope.timer=0,$scope.showDofuseurHelpDialog=function(e){$rootScope.$broadcast("openDofuseurHelp",e)},$scope.getLevelName=function(){var e="LEVEL_"+level.toUpperCase();return $filter("translate")(e)},$scope.getDofusName=function(e){var o="DOFUS_"+e.name.toUpperCase();return $filter("translate")(o)},$scope.showWelcomeDialog=function(e){dialogManager.showWelcomeDialog(e,!0)},$scope.selectLevel=function(e){var o=createjs.Sound.activePlugin,i=!1;for(var t in o._soundInstances){var s=o._soundInstances[t];if(s.length>0)for(var n=0,a=s.length;n<a;n++){s[n].setPaused(!1),i=!0}}switch(i||playSound("music"),level=e,e){case"easy":config.lives=3,config.bombs=50,config.timer=300,$scope.levelImgPath=$scope.easyImgPath;break;case"medium":config.lives=2,config.bombs=75,config.timer=390,$scope.levelImgPath=$scope.mediumImgPath;break;case"hard":config.lives=1,config.bombs=100,config.timer=480,$scope.levelImgPath=$scope.hardImgPath}initTimer(),initLives(),initBombs(),resetDofus(),$scope.isMenu=!1},$scope.menu=function(){var e=createjs.Sound.activePlugin;for(var o in e._soundInstances)for(var i=e._soundInstances[o],t=0,s=i.length;t<s;t++){i[t].setPaused(!0)}clearInterval(timerInterval),$scope.isMenu=!0,$scope.lives=[],resetDofus(),initTimer(),stage.removeAllChildren(),initGrid(),initTiles(),isGame=!1,$scope.isGameover=!1,$scope.isVictory=!1},$scope.reset=function(){clearInterval(timerInterval),$scope.isGameover=!1,$scope.isVictory=!1,resetLives(),resetDofus(),initTimer(),initBombs(),isGame=!1,stage.removeAllChildren(),initGrid(),initTiles()},$scope.setVolume=function(){switch($scope.volume=($scope.volume+1)%3,$scope.volume){case 0:createjs.Sound.volume=0;break;case 1:createjs.Sound.volume=.025;break;case 2:createjs.Sound.volume=.1}$scope.volume>0&&playSound("unmute")},$scope.getTimerValue=function(){var e=Math.trunc($scope.timer/60)+" : ";return $scope.timer%60<10&&(e+="0"),e+=$scope.timer%60},$scope.dofusImgPath=function(e){return appConfig.paths.imgDofus+e+".png"},$scope.imgLoaded=function(){++countImgsLoaded==nbImgs&&($rootScope.imgsIsLoaded=!0)};var nbImgs=8,countImgsLoaded=0,isGameReady=!1,isViewReady=!1,level="",config={tile:40,lines:15,columns:20,bombs:0,lives:0,timer:0,colors:["rgb(241,177,73)","#3498DB","#27AE60","#E74C3C","#1F3A93","#C0392B","#36D7B7","#8E44AD","#34495E"],dofuss:["ebene","emeraude","ivoire","ocre","pourpre","turquoise"]},imgs={tile:{},bomb:{},unknow:{},lock:{},ebene:{},emeraude:{},ivoire:{},ocre:{},pourpre:{},turquoise:{}},manifest=[{src:appConfig.paths.imgDofuseurTiles+"tile.png",id:"tile"},{src:appConfig.paths.imgDofuseurTiles+"bomb_tile.png",id:"bomb"},{src:appConfig.paths.imgDofuseurTiles+"unknow_tile.png",id:"unknow"},{src:appConfig.paths.imgDofuseurTiles+"lock_tile.png",id:"lock"},{src:appConfig.paths.imgDofuseurTiles+"ebene_tile.png",id:"ebene"},{src:appConfig.paths.imgDofuseurTiles+"emeraude_tile.png",id:"emeraude"},{src:appConfig.paths.imgDofuseurTiles+"ivoire_tile.png",id:"ivoire"},{src:appConfig.paths.imgDofuseurTiles+"ocre_tile.png",id:"ocre"},{src:appConfig.paths.imgDofuseurTiles+"pourpre_tile.png",id:"pourpre"},{src:appConfig.paths.imgDofuseurTiles+"turquoise_tile.png",id:"turquoise"},{src:appConfig.paths.sounds+"music.mp3",id:"music"},{src:appConfig.paths.sounds+"dofus.mp3",id:"dofus"},{src:appConfig.paths.sounds+"victory.mp3",id:"victory"},{src:appConfig.paths.sounds+"hit.mp3",id:"hit"},{src:appConfig.paths.sounds+"unmute.mp3",id:"unmute"},{src:appConfig.paths.sounds+"gameover.mp3",id:"gameover"}],timerInterval={},isGame=!1,canvas={},stage={},preload={},grid=[];function initTimer(){$scope.timer=config.timer}function initLives(){for(var e=0;e<config.lives;e++){$scope.lives.push({isFull:!0})}}function resetLives(){for(;$scope.lives.length>config.lives;)$scope.lives.pop();$scope.lives.forEach(function(e){e.isFull=!0})}function looseLives(){$scope.lives.forEach(function(e){e.isFull&&(e.isFull=!1)})}function initBombs(){$scope.bombs=config.bombs}function initCanvas(){(canvas=document.getElementById("dofuseur")).width=config.tile*config.columns,canvas.height=config.tile*config.lines,stage=new createjs.Stage(canvas)}function initPreload(){(preload=new createjs.LoadQueue).installPlugin(createjs.Sound),preload.on("fileload",handleFileLoad),preload.on("progress",handleFileProgress),preload.on("complete",loadComplete),preload.on("error",loadError),preload.loadManifest(manifest)}function handleFileLoad(e){imgs[e.item.id]=new createjs.Bitmap(e.result)}function loadError(e){console.error("Erreur lors du chargement des assets !",e.text)}function handleFileProgress(e){}function loadComplete(e){initTiles()}function initGrid(){grid=new Array(config.columns);for(var e=0;e<config.columns;e++){grid[e]=new Array(config.lines),(o=new createjs.Shape).graphics.setStrokeStyle(3),o.graphics.beginStroke(config.colors[0]),o.graphics.moveTo(e*config.tile,0),o.graphics.lineTo(e*config.tile,canvas.height),o.graphics.endStroke(),stage.addChild(o)}for(e=0;e<config.lines;e++){var o;(o=new createjs.Shape).graphics.setStrokeStyle(3),o.graphics.beginStroke(config.colors[0]),o.graphics.moveTo(0,e*config.tile),o.graphics.lineTo(canvas.width,e*config.tile),o.graphics.endStroke(),stage.addChild(o)}}function initDofus(){config.dofuss.forEach(function(e){var o={name:e,isFound:!1};$scope.dofuss.push(o)})}function resetDofus(){$scope.dofuss.forEach(function(e){e.isFound=!1})}function initTiles(){for(var e=0;e<config.columns;e++)for(var o=0;o<config.lines;o++)!function(){var i=imgs.tile.clone();i.x=e*config.tile,i.y=o*config.tile,i.indexX=e,i.indexY=o,i.type="tile",i.status="none",i.img=void 0,stage.addChild(i),grid[e][o]=i,i.addEventListener("mousedown",function(e){clickOnTile(i,e)})}();stage.update(),isGameReady=!0,isViewReady&&1!=$rootScope.viewIsLoaded&&($rootScope.viewIsLoaded=!0,$rootScope.$apply())}function initGame(){initCanvas(),initPreload(),initGrid(),initDofus()}function init(){initGame(),$rootScope.title="Sweet.ovh - "+$filter("translate")("DOFUSEUR_TITLE"),imgManager.initBackgroundImage("dofuseur"),isViewReady=!0,isGameReady&&1!=$rootScope.viewIsLoaded&&($rootScope.viewIsLoaded=!0)}function clickOnTile(e,o){if(getLives()>0&&"clicked"!=e.status&&"lock"!=e.status){if(0==o.nativeEvent.button){if(isGame||(generateGrid(e),isGame=!0,timerInterval=setInterval(timerTimeout,1e3)),"bomb"!=e.status&&"lock"!=e.status)switch("unknow"==e.status&&displayObject("none",e),e.type){case"bomb":hit(e);break;case"tile":var i=getNbNeighbours(e);i>0?displayNbNeighbours(e,i):displayNeighbours(e);break;default:displayDofus(e)}}else switch(e.status){case"none":displayObject("bomb",e);break;case"bomb":displayObject("unknow",e);break;case"unknow":displayObject("none",e)}stage.update(),0==$scope.bombs&&checkWin()}}function getNbNeighbours(e){for(var o=e.indexX,i=e.indexY,t=0,s=-1;s<=1;s++)for(var n=-1;n<=1;n++){var a=o+s,r=i+n;a>=0&&a<config.columns&&r>=0&&r<config.lines&&(a!=o||r!=i)&&"bomb"==grid[a][r].type&&t++}return t}function displayNbNeighbours(e,o){if("clicked"!=e.status&&("none"!=e.status&&displayObject("none",e),e.status="clicked",stage.removeChild(e),o>0)){var i=new createjs.Text(o,"20px Arial",config.colors[o]);i.x=config.tile*e.indexX+14,i.y=config.tile*e.indexY+10,stage.addChild(i)}}function displayNeighbours(e){if("clicked"!=e.status)if("none"!=e.status&&displayObject("none",e),stage.removeChild(e),e.status="clicked","ebene"==e.type||"emeraude"==e.type||"ivoire"==e.type||"ocre"==e.type||"pourpre"==e.type||"turquoise"==e.type)displayDofus(e);else for(var o=-1;o<=1;o++)for(var i=-1;i<=1;i++){var t=e.indexX+o,s=e.indexY+i;if(t>=0&&t<config.columns&&s>=0&&s<config.lines&&(t!=e.indexX||s!=e.indexY)){var n=grid[t][s];if("clicked"!=n.status)if("ebene"==n.type||"emeraude"==n.type||"ivoire"==n.type||"ocre"==n.type||"pourpre"==n.type||"turquoise"==n.type)displayDofus(n);else{var a=getNbNeighbours(n);a>0?displayNbNeighbours(n,a):displayNeighbours(n)}}}}function checkWin(){for(var e=!0,o=0;o<grid.length&&e;o++)for(var i=0;i<grid[0].length&&e;i++){var t=grid[o][i];"bomb"==t.type?"bomb"!=t.status&&"lock"!=t.status&&(e=!1):"clicked"!=t.status&&(e=!1)}e&&victory()}function playSound(e){$scope.volume>0&&createjs.Sound.play(e)}function getLives(){var e=0;return $scope.lives.forEach(function(o){o.isFull&&e++}),e}function generateGrid(e){for(var o=[],i=config.bombs,t=0;t<config.columns;t++)for(var s=0;s<config.lines;s++){for(var n=grid[t][s],a=!1,r=-2;r<=2&&!a;r++)for(var u=-2;u<=2&&!a;u++)n.indexX==e.indexX+r&&n.indexY==e.indexY+u&&(a=!0);i>0&&!a&&(Math.random()<i/((config.columns-t)*config.lines-s)?(i--,n.type="bomb"):o.push(n))}config.dofuss.forEach(function(e){var i=Math.floor(Math.random()*o.length),t=o[i];grid[t.indexX][t.indexY].type=e,o.slice(i,1)})}function timerTimeout(){$scope.timer--,$scope.$apply(),$scope.timer<=0&&(looseLives(),gameover())}function displayObject(e,o){if("unknow"==e||"none"==e?"bomb"==o.status&&setBombs(!0):"bomb"!=o.status&&setBombs(!1),o.status!=e&&(o.status=e),stage.removeChild(o.img),"none"!=o.status){var i=imgs[e].clone();i.x=o.indexX*config.tile+1,i.y=o.indexY*config.tile+1,o.img=i,stage.addChild(i)}else o.img=void 0}function displayDofus(tile){playSound("dofus"),"none"!=tile.status&&displayObject("none",tile),tile.status="clicked",stage.removeChild(tile);var dofus=imgs[tile.type].clone();dofus.x=config.tile*tile.indexX,dofus.y=config.tile*tile.indexY,stage.addChild(dofus),findDofus(tile.type),eval(tile.type)(tile),allDofus()}function findDofus(e){for(var o=!1,i=0;i<$scope.dofuss.length&&!o;i++){var t=$scope.dofuss[i];t.name==e&&(t.isFound=!0,o=!0)}}function revealTile(e){if("lock"!=e.status&&"clicked"!=e.status)if("bomb"==e.type)displayObject("lock",e);else if(displayObject("none",e),"tile"==e.type){var o=getNbNeighbours(e);o>0?displayNbNeighbours(e,o):displayNeighbours(e)}else displayDofus(e)}function allDofus(){for(var e=!0,o=0;o<$scope.dofuss.length&&e;o++)$scope.dofuss[o].isFound||(e=!1);e&&$scope.lives.forEach(function(e){e.isFull=!0})}function ebene(e){for(var o=0;o<config.columns;o++)revealTile(grid[o][e.indexY]);for(o=0;o<config.lines;o++)revealTile(grid[e.indexX][o])}function emeraude(e){for(var o=1;e.indexX-o>=0||e.indexY-o>=0||e.indexX+o<config.columns||e.indexY+o<config.lines;o++){var i=void 0,t=void 0,s=void 0,n=void 0;e.indexX-o>=0&&e.indexY+o<config.lines&&(i=grid[e.indexX-o][e.indexY+o]),e.indexX+o<config.columns&&e.indexY+o<config.lines&&(t=grid[e.indexX+o][e.indexY+o]),e.indexX+o<config.columns&&e.indexY-o>=0&&(n=grid[e.indexX+o][e.indexY-o]),e.indexX-o>=0&&e.indexY-o>=0&&(s=grid[e.indexX-o][e.indexY-o]),void 0!=i&&revealTile(i),void 0!=t&&revealTile(t),void 0!=s&&revealTile(s),void 0!=n&&revealTile(n)}}function ivoire(e){$scope.lives.push({isFull:!0})}function ocre(e){$scope.timer+=60}function pourpre(e){for(var o=0;o<config.columns||o<config.lines;o++){var i=void 0,t=void 0,s=void 0,n=void 0;o<config.columns&&(i=grid[o][0]),o<config.columns&&(s=grid[config.columns-1-o][config.lines-1]),o<config.lines&&(t=grid[config.columns-1][config.lines-1-o]),o<config.lines&&(n=grid[0][o]),void 0!=i&&revealTile(i),void 0!=t&&revealTile(t),void 0!=s&&revealTile(s),void 0!=n&&revealTile(n)}}function turquoise(e){for(var o=0;o<config.columns;o++)for(var i=0;i<config.lines;i++){var t=grid[o][i];if("bomb"!=t.type)0==getNbNeighbours(t)&&revealTile(t)}}function gameover(){clearInterval(timerInterval),playSound("gameover"),$scope.isGameover=!0,$scope.$apply()}function victory(){clearInterval(timerInterval),playSound("victory"),$scope.isVictory=!0,$scope.$apply()}function hit(e){setLives(!1),getLives()<=0?gameover():(playSound("hit"),displayObject("lock",e))}function setLives(e){for(var o=!1,i=0;i<$scope.lives.length&&!o;i++){var t=$scope.lives[i];e?t.isFull||(t.isFull=!0,o=!0):t.isFull&&(t.isFull=!1,o=!0,$scope.isHit=!0,setTimeout(function(){$scope.isHit=!1,$scope.$apply()},500),$scope.$apply())}}function setBombs(e){e?$scope.bombs++:$scope.bombs--,$scope.$apply()}init()}]),angular.module("notFoundCtrl",[]).config(["$translateProvider",function(e){e.translations("fr",{NOTFOUND_TITLE:"Page introuvable"}),e.translations("en",{NOTFOUND_TITLE:"Page not found"})}]).controller("notFoundController",["$scope","$rootScope","$filter","imgManager",function(e,o,i,t){e.imgLoaded=function(){n++,console.log(n),n==s&&(o.imgsIsLoaded=!0)};var s=0,n=0;o.imgsIsLoaded=!0,o.title="Sweet.ovh - "+i("translate")("NOTFOUND_TITLE"),t.initBackgroundImage("notFound"),o.viewIsLoaded=!0}]),angular.module("disableRightClickDirective",[]).directive("disableRightClick",function(){return{restrict:"A",link:function(e,o,i){o.bind("contextmenu",function(e){e.preventDefault()})}}}),angular.module("imageOnLoadDirective",[]).directive("imageonload",function(){return{restrict:"A",link:function(e,o,i){o.bind("load",function(){e.$apply(i.imageonload)})}}}),angular.module("ngLocale",[],["$provide",function(e){var o="one",i="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var s=0|e,n=function(e,o){var i,t,s=o;void 0===s&&(s=Math.min((i=e,-1==(t=(i+="").indexOf("."))?0:i.length-t-1),3));var n=Math.pow(10,s);return{v:s,f:(e*n|0)%n}}(e,t);return 1==s&&0==n.v?o:i}})}]),angular.module("ngLocale",[],["$provide",function(e){var o="one",i="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],ERANAMES:["avant Jésus-Christ","après Jésus-Christ"],ERAS:["av. J.-C.","ap. J.-C."],FIRSTDAYOFWEEK:0,MONTH:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],SHORTDAY:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],SHORTMONTH:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],STANDALONEMONTH:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],WEEKENDRANGE:[5,6],fullDate:"EEEE d MMMM y",longDate:"d MMMM y",medium:"d MMM y HH:mm:ss",mediumDate:"d MMM y",mediumTime:"HH:mm:ss",short:"dd/MM/y HH:mm",shortDate:"dd/MM/y",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"fr-fr",localeID:"fr_FR",pluralCat:function(e,t){var s=0|e;return 0==s||1==s?o:i}})}]),angular.module("daoService",[]).service("daoManager",["$http","appConfig",function(e,o){var i=this;function t(i,t,s){if(i){var n={url:o.paths.php+i+".php"};return n.method=t||"GET",s&&("POST"==t?n.data=s:n.params=s),e(n)}return Promise.reject(new Error("Le nom du fichier est manquant"))}i.login=function(e){return e?t("login","POST",{user:e}):Promise.reject(new Error("L'utilisateur est manquant"))},i.register=function(e){return e?t("register","POST",{user:e}):Promise.reject(new Error("L'utilisateur est manquant"))},i.checkSame=function(e,o){if(e&&o){var i={};switch(e){case"username":i.username=o;break;case"login":i.login=o;break;case"email":i.email=o}return t("check_same","POST",i)}return Promise.reject(new Error("Le champ a vérifier et/ou sa valeur est manquant"))},i.getServers=function(){return t("get_servers","GET")},i.getFavouritesServers=function(){return t("get_favourites_servers","GET")},i.updatePortal=function(e){return e?t("update_portal","POST",{portal:e}):Promise.reject(new Error("Le portail est manquant"))},i.addFavouriteServer=function(e){return e?t("insert_favourite_server","POST",{server_id:e}):Promise.reject(new Error("L'identifiant du serveur est manquant"))},i.removeFavouriteServer=function(e){return e?t("delete_favourite_server","POST",{server_id:e}):Promise.reject(new Error("L'identifiant du serveur est manquant"))},i.getConnectedUser=function(){return t("get_connected_user","GET")},i.getConnectedUserRight=function(){return t("get_connected_user_right","GET")},i.getDimensions=function(){return t("get_dimensions","GET")},i.getUsers=function(){return t("get_users","GET")},i.getPortalById=function(e){return e?t("get_portal_by_id","POST",{id:e}):Promise.reject(new Error("L'identifiant du portail est manquant"))},i.getUserById=function(e){return e?t("get_user_by_id","POST",{id:e}):Promise.reject(new Error("L'identifiant de l'utilisateur est manquant"))},i.getModifiersByDimensionId=function(e){return e?t("get_modifiers_by_dimension_id","POST",{dimension_id:e}):Promise.reject(new Error("L'identifiant de la dimension est manquant"))},i.getPortalsByServerId=function(e){return e?t("get_portals_by_server_id","POST",{server_id:e}):Promise.reject(new Error("L'identifiant du serveur est manquant"))}}]),angular.module("devToolsService",[]).service("devToolsManager",["$interval",function(e){var o=this;o.timer=0,o.startTimer=function(){o.timer=0};e(function(){o.timer++},100);o.stopTimer=function(){e.cancel(o.startTimer),console.log("Timer",o.timer)}}]),angular.module("dialogService",[]).service("dialogManager",["$mdDialog","$location","appConfig",function(e,o,i){var t=this;function s(o,i,t,s,n){var a={controller:o,templateUrl:i,parent:angular.element(document.body),clickOutsideToClose:t};s&&(a.targetEvent=s),n&&(a.locals=n),e.show(a)}t.showConfirmDialog=function(o,i,t,s,n){var a=null,r="Une erreur est survenue lors de l'ouverture de la popin de confirmation";if(o)if(i)if(t){if(s)return a=n?e.confirm().title(o).textContent(i).targetEvent(n).ok(t).cancel(s):e.confirm().title(o).textContent(i).ok(t).cancel(s),e.show(a);r="Le texte d'annulation n'est pas défini"}else r="Le texte de confirmation n'est pas défini";else r="Le texte du contenu n'est pas défini";else r="Le titre n'est pas défini";return Promise.reject(new Error(r))},t.showChangelogDialog=function(e,o){s("changelogController",i.paths.viewsHome+"changelog.html",o,e)},t.showWelcomeDialog=function(e){s("welcomeController",i.paths.viewsDialogs+"welcome.html",e)},t.showHelpDialog=function(e,o){s("dofuseurHelpController",i.paths.viewsDialogs+"dofuseurHelp.html",o,e)},t.showAchievementsDialog=function(e,o){s("achievementsController",i.paths.viewsHeader+"achievements.html",o,e)},t.showOrnamentsTitlesDialog=function(e,o){s("ornamentsTitlesController",i.paths.viewsHeader+"ornamentsTitles.html",o,e)},t.showUpdatePortalsDialog=function(e,o,t,n){var a={portal:t,dimension:n};s("updatePortalsController",i.paths.viewsPortals+"updatePortals.html",o,e,a)},t.showIdentificationDialog=function(e,o,t){var n={isRegister:t};s("identificationController",i.paths.viewsHeader+"identification.html",o,e,n)},t.showProfileDialog=function(e,o,t){var n={isUpdate:t};s("profileController",i.paths.viewsHeader+"profile.html",o,e,n)},t.closeDialogs=function(){e.cancel()}}]),angular.module("imgService",[]).service("imgManager",["$rootScope","appConfig",function(e,o){this.initBackgroundImage=function(i){if(i){angular.element(document.querySelector("#"+i+"-view")).css("background-image","url('"+o.paths.imgBackgrounds+i+"_background.jpg')");var t=new Image;t.src=o.paths.imgBackgrounds+i+"_background.jpg",t.onload=function(){e.backgroundIsLoaded=!0,e.$$phase||e.$digest()},t.complete&&t.onload()}else console.error("L'identifiant de la vue est manquant")}}]),angular.module("languageService",[]).service("languageManager",["tmhDynamicLocale","$translate","localStorageManager","appConfig",function(e,o,i,t){var s=this,n=[{name:"FRENCH",id:"fr"},{name:"ENGLISH",id:"en"}];s.getCurrentLanguage=function(){return i.getObj(t.localStorage.language)||s.setCurrentLanguage(n[0]),i.getObj(t.localStorage.language)},s.getLanguages=function(){return n},s.initCurrentLanguage=function(){i.getObj(t.localStorage.language)?s.setCurrentLanguage(i.getObj(t.localStorage.language)):s.setCurrentLanguage(n[0])},s.setCurrentLanguage=function(s){if(s){var a=!1;n.forEach(function(e){e.id==s.id&&(a=!0)}),a||(s=n[0]),o.use(s.id),e.set(s.id),i.setObj(t.localStorage.language,s)}else console.error("La langue n'est pas définie")}}]),angular.module("localStorageService",[]).service("localStorageManager",["$window",function(e){this.getObj=function(o){return o?JSON.parse(e.localStorage.getItem(o)):"La clef n'est pas définie"},this.setObj=function(o,i){o?i?e.localStorage.setItem(o,JSON.stringify(i)):console.error("L'objet n'est pas défini"):console.error("La clef n'est pas définie")},this.removeObj=function(o){o?e.localStorage.removeItem(o):console.log("la clef n'est pas définie")},this.clear=function(){e.localStorage.clear()}}]),angular.module("sessionStorageService",[]).service("sessionStorageManager",["$window",function(e){this.getObj=function(o){return o?JSON.parse(e.sessionStorage.getItem(o)):"La clef n'est pas définie"},this.setObj=function(o,i){o?i?e.sessionStorage.setItem(o,JSON.stringify(i)):console.error("L'objet n'est pas défini"):console.error("La clef n'est pas définie")},this.removeObj=function(o){o?e.sessionStorage.removeItem(o):console.log("la clef n'est pas définie")},this.clear=function(){e.sessionStorage.clear()}}]),angular.module("toastService",[]).service("toastManager",["$mdToast",function(e){this.showSimpleToast=function(o,i,t,s){s||(s=3e3),t||(t="top right"),i||(i="success"),o?e.show(e.simple().textContent(o).position(t).hideDelay(s).theme(i)):console.error("Le texte n'est pas défini")},this.closeToasts=function(){e.hide()}}]);